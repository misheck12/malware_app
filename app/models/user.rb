class User < ApplicationRecord
  has_secure_password

  has_many :posts
  has_many :comments

  validates :username, presence: true
  validates :email, presence: true, uniqueness: true
  validates :password_digest, presence: true

  # Define which attributes are searchable with Ransack
  def self.ransackable_attributes(auth_object = nil)
    %w[created_at email id username updated_at user_level]
  end
end
