# app/admin/preventions.rb
ActiveAdmin.register Prevention do
    permit_params :name, :description, malware_ids: []
  
    index do
      selectable_column
      id_column
      column :name
      column :description
      column :added_on
      column "Malwares" do |prevention|
        prevention.malwares.map(&:name).join(', ')
      end
      actions
    end
  
    filter :name
    filter :added_on
    filter :malwares
  
    form do |f|
      f.inputs "Prevention Details" do
        f.input :name
        f.input :description
        f.input :malwares, as: :select, collection: Malware.all, input_html: { multiple: true }
      end
      f.actions
    end
  end
  